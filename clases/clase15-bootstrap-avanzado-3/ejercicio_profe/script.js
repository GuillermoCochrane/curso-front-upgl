const zapatillas = {
    nike: {
        'nike-dunk-low': {
            nombre: 'Nike Dunk Low',
            precio: '$100',
            descripcion: 'El icono del basquetbol de los 80, que se creó para la cancha pero conquistó las calles.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Blanco, Negro, Rojo',
            imagen: 'https://nikearprod.vtexassets.com/arquivos/ids/378649-1200-1200?width=1200&height=1200&aspect=true'
        },
        'air-jordan-1-low-se': {
            nombre: 'Air Jordan 1 Low SE',
            precio: '$120',
            descripcion: 'Da tu máximo esfuerzo con estos AJ1 de edición especial.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Negro, Blanco, Azul',
            imagen: 'https://nikearprod.vtexassets.com/arquivos/ids/1460993-1200-1200?width=1200&height=1200&aspect=true'
        },
        'nike-pegasus-trail-5': {
            nombre: 'Nike Pegasus Trail 5',
            precio: '$130',
            descripcion: 'Despliega tus alas y observa lo que te depara la naturaleza mientras recorres caminos de tierra con los Peg Trail 5.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Verde, Gris, Azul',
            imagen: 'https://nikearprod.vtexassets.com/arquivos/ids/1381241-1200-1200?width=1200&height=1200&aspect=true'
        }
    },
    adidas: {
        'adidas-ultraboost': {
            nombre: 'Adidas Ultraboost',
            precio: '$110',
            descripcion: 'Zapatillas de running con amortiguación superior para máxima comodidad en cada paso.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Negro, Blanco, Gris',
            imagen: 'https://assets.adidas.com/images/w_600,f_auto,q_auto/d2a64cf9cd824e5d9fcc950b5eb0b2c8_9366/Zapatillas_Ultraboost_5_Azul_ID8817_HM1.jpg'
        },
        'adidas-stan-smith': {
            nombre: 'Adidas Stan Smith',
            precio: '$90',
            descripcion: 'Clásicas zapatillas blancas con diseño atemporal, perfectas para el día a día.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Blanco, Verde',
            imagen: 'https://assets.adidas.com/images/w_600,f_auto,q_auto/69721f2e7c934d909168a80e00818569_9366/Zapatillas_Stan_Smith_Blanco_M20324_01_standard.jpg'
        },
        'adidas-nmd': {
            nombre: 'Adidas NMD',
            precio: '$105',
            descripcion: 'Zapatillas urbanas con tecnología Boost para un estilo moderno y cómodo.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Negro, Blanco, Azul',
            imagen: 'https://cdn-images.farfetch-contents.com/14/86/22/44/14862244_24360902_600.jpg'
        },
         'adidas-aloha': {
            nombre: 'Adidas Aloha',
            precio: '$175',
            descripcion: 'Zapatillas urbanas con tecnología Boost para un estilo moderno y cómodo.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Negro, Blanco, Azul',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        }
    },
    topper: {
        'topper-runner': {
            nombre: 'Topper Runner',
            precio: '$85',
            descripcion: 'Zapatillas ligeras ideales para corredores diarios con excelente ventilación.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Azul, Rojo, Negro',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        },
        'topper-classic': {
            nombre: 'Topper Classic',
            precio: '$75',
            descripcion: 'Diseño clásico y versátil para uso cotidiano, con materiales duraderos.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Blanco, Negro',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        },
        'topper-sport': {
            nombre: 'Topper Sport',
            precio: '$95',
            descripcion: 'Zapatillas deportivas multifuncionales para actividades al aire libre.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Verde, Azul, Gris',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        }
    },
    newbalance: {
        'newbalance-574': {
            nombre: 'NewBalance 574',
            precio: '$100',
            descripcion: 'Zapatillas icónicas con estilo retro y comodidad para el uso diario.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Azul Marino, Gris',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        },
        'newbalance-990': {
            nombre: 'NewBalance 990',
            precio: '$150',
            descripcion: 'Modelo premium con amortiguación avanzada y diseño elegante.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Negro, Blanco',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        },
        'newbalance-fuelcell': {
            nombre: 'NewBalance FuelCell',
            precio: '$140',
            descripcion: 'Zapatillas de alto rendimiento para atletas con energía de retorno.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Rojo, Azul',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        }
    },
    jaguar: {
        'jaguar-speed': {
            nombre: 'Jaguar Speed',
            precio: '$120',
            descripcion: 'Zapatillas rápidas y ligeras para competiciones de velocidad.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Amarillo, Negro',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        },
        'jaguar-comfort': {
            nombre: 'Jaguar Comfort',
            precio: '$80',
            descripcion: 'Diseñadas para máxima comodidad durante todo el día.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Rosa, Blanco',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        },
        'jaguar-elite': {
            nombre: 'Jaguar Elite',
            precio: '$160',
            descripcion: 'Zapatillas premium para atletas de élite con tecnología avanzada.',
            talles: '36, 37, 38, 39, 40, 41, 42, 43, 44, 45',
            colores: 'Plateado, Negro',
            imagen: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c40af072627a446aa200a84c7d07021f_9366/Aloha_Super_Beige_JQ1043_01_00_standard.jpg'
        }
    }
};

// Función para obtener una zapatilla específica por su ID único
// Recorre todas las marcas y busca el ID en cada una
function getZapatillaById(id) {
    for (let marca in zapatillas) {
        if (zapatillas[marca][id]) {
            return zapatillas[marca][id]; // Retorna la zapatilla encontrada
        }
    }
    return null; // Si no se encuentra, retorna null
}

// Función principal para generar las tarjetas (cards) de zapatillas dinámicamente en la página
// Crea una fila de tarjetas para cada marca de zapatillas
function generarCards() {
    // Recorremos cada marca de zapatillas (nike, adidas, etc.)
    for (let marca in zapatillas) {
        // Buscamos la sección HTML correspondiente a la marca (ej: <section id="nike">)
        const section = document.getElementById(marca);
        if (!section) continue; // Si no existe la sección, saltamos a la siguiente marca

        // Eliminamos la fila anterior si ya existe para evitar duplicados
        const existingRow = section.querySelector('.row');
        if (existingRow) {
            existingRow.remove();
        }

        // Creamos un nuevo contenedor de fila (div con clase 'row') para organizar las tarjetas
        const row = document.createElement('div');
        row.className = 'row justify-content-evenly'; // Clase Bootstrap para centrar y espaciar las tarjetas

        // Recorremos cada zapatilla dentro de la marca actual
        for (let id in zapatillas[marca]) {
            const zap = zapatillas[marca][id]; // Obtenemos los datos de la zapatilla

            // Creamos el elemento HTML de la tarjeta usando una función auxiliar
            const card = crearCardElemento(id, zap);

            // Agregamos un comentario HTML invisible dentro de la tarjeta para facilitar la inspección en el navegador
            // Esto ayuda a identificar la zapatilla en el DOM (ej: <!-- zapatilla: nike-dunk-low - Nike Dunk Low -->)
            const comment = document.createComment(`zapatilla: ${id} - ${zap.nombre}`);
            card.appendChild(comment);

            // Agregamos la tarjeta a la fila
            row.appendChild(card);
        }

        // Finalmente, agregamos la fila completa a la sección de la marca
        section.appendChild(row);
    }
}

// Función auxiliar que crea y retorna el elemento HTML completo de una tarjeta de zapatilla
// Recibe el ID único y los datos de la zapatilla
function crearCardElemento(id, zap) {
    // Creamos el contenedor principal de la tarjeta
    const card = document.createElement('div');
    card.className = 'card'; // Clase Bootstrap para el estilo de tarjeta
    card.style.width = '15rem'; // Ancho fijo de la tarjeta

    // Creamos la imagen de la zapatilla
    const img = document.createElement('img');
    img.src = zap.imagen; // URL de la imagen
    img.className = 'card-img-top'; // Clase Bootstrap para imagen en la parte superior
    img.alt = 'Zapatilla ' + zap.nombre; // Texto alternativo para accesibilidad

    // Creamos el cuerpo de la tarjeta (contiene título, descripción y botón)
    const body = document.createElement('div');
    body.className = 'card-body'; // Clase Bootstrap para el cuerpo de la tarjeta

    // Título de la zapatilla
    const title = document.createElement('h5');
    title.className = 'card-title'; // Clase Bootstrap para el título
    title.textContent = zap.nombre; // Nombre de la zapatilla

    // Descripción breve
    const text = document.createElement('p');
    text.className = 'card-text'; // Clase Bootstrap para el texto
    text.textContent = zap.descripcion; // Descripción de la zapatilla

    // Botón para ver más detalles (abre un modal)
    const button = document.createElement('button');
    button.className = 'btn btn-primary'; // Clase Bootstrap para botón primario
    button.setAttribute('data-bs-toggle', 'modal'); // Atributo para activar modal de Bootstrap
    button.setAttribute('data-bs-target', '#detallesModal'); // ID del modal a abrir
    button.setAttribute('data-zapatilla', id); // Atributo personalizado con el ID de la zapatilla
    button.textContent = 'Ver Detalles'; // Texto del botón

    // Ensamblamos la tarjeta: agregamos elementos al cuerpo, luego al contenedor principal
    body.appendChild(title);
    body.appendChild(text);
    body.appendChild(button);
    card.appendChild(img);
    card.appendChild(body);

    return card; // Retornamos la tarjeta completa lista para insertar en el DOM
}

// Espera a que el DOM esté totalmente cargado antes de ejecutar el código
document.addEventListener('DOMContentLoaded', function () { // escucha el evento DOMContentLoaded
    // Generar cards dinámicamente
    generarCards();

    // Delegación de eventos: un solo listener para todos los botones con data-zapatilla
    document.addEventListener('click', function (e) {
        // Busca hacia arriba en la cadena de padres hasta encontrar un botón con el atributo
        const btn = e.target.closest && e.target.closest('[data-zapatilla]');
        if (!btn) return; // Si el click no fue en un botón con data-zapatilla, no hacemos nada

        const id = btn.getAttribute('data-zapatilla');
        const data = getZapatillaById(id);
        if (!data) return;

        // Actualizamos el contenido del modal con los datos encontrados
        document.getElementById('modal-nombre').textContent = data.nombre;
        document.getElementById('modal-precio').textContent = data.precio;
        document.getElementById('modal-descripcion').textContent = data.descripcion;
        document.getElementById('modal-talles').textContent = data.talles;
        document.getElementById('modal-colores').textContent = data.colores;
    });
}); // fin del DOMContentLoaded
